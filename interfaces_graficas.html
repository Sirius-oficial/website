<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Servicios - Sirius Diseño Web</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root { --sidebar-w: 260px; }
    html, body { height: 100%; margin: 0; font-family: 'Poppins', sans-serif; background: #000; color: #e0e0e0; overflow-x: hidden; }
    main { position: relative; z-index: 10; padding: 2rem 1rem; margin-left: var(--sidebar-w); min-height: 100vh; }
    @media (max-width: 900px) { main { margin-left: 0; } }

    canvas#stars { position: fixed; inset: 0; z-index: 0; display: block; }
    .nebula { position: fixed; inset: 0; z-index: 1; mix-blend-mode: screen; opacity: .36; pointer-events: none;
      background:
        radial-gradient(circle at 15% 25%, rgba(79,43,143,0.48), transparent 20%),
        radial-gradient(circle at 70% 75%, rgba(11,60,120,0.36), transparent 25%);
      filter: blur(60px);
    }
    .shooting { position: fixed; z-index: 2; pointer-events: none; mix-blend-mode: screen; filter: blur(1px); }

    /* Sidebar */
    .sidebar { position: fixed; left: 0; top: 0; width: var(--sidebar-w); height: 100%; padding: 18px; background: rgba(12,18,36,0.96); backdrop-filter: blur(8px); border-right: 1px solid rgba(255,255,255,0.04); z-index: 1000; transform: translateX(-270px); transition: transform .28s ease; }
    .sidebar.open { transform: translateX(0); }
    .brand { display: flex; align-items: center; gap: 10px; margin-bottom: 22px; }
    .brand img { width: 40px; height: auto; border-radius: 6px; }
    nav a { display: flex; align-items: center; gap: 10px; color: #dbe4ff; text-decoration: none; padding: 8px; border-radius: 8px; }
    nav a:hover { background: rgba(255,255,255,0.03); }
    .line { height: 1px; background: rgba(255,255,255,0.04); margin: 14px 0; }
    .settings-toggle { display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 8px; border-radius: 8px; color: #dbe4ff; }
    .settings-menu { margin-top: 8px; padding: 6px; display: none; background: transparent; }
    .settings-menu .opt { display: flex; align-items: center; justify-content: space-between; padding: 8px; border-radius: 6px; color: #eaf0ff; }
    .settings-menu .opt:hover { background: rgba(255,255,255,0.03); }
    .btn { padding: 6px 12px; border-radius: 6px; border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05); color: #fff; cursor: pointer; font-size: 0.9rem; }

    .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.45); z-index: 900; display: none; }
    .overlay.show { display: block; }
    .menu { position: fixed; right: 16px; top: 16px; z-index: 1100; width: 44px; height: 44px; border-radius: 50%; background: #0c1224; display: flex; align-items: center; justify-content: center; cursor: pointer; }
    .menu ion-icon { color: #fff; font-size: 24px; }
    @media (min-width: 901px) { .sidebar { transform: translateX(0); } .menu { display: none; } }

    /* ==================== BOTONES + CARRUSEL ==================== */
    .subtitle { margin: 100px 0 6rem; text-align: center; font-size: 1.35rem; letter-spacing: 5px; color: #888; text-transform: uppercase; }

    .services-section { margin: 6rem 0 12rem; position: relative; }
    .services-title { font-size: 3rem; text-align: center; margin-bottom: 4.5rem; background: linear-gradient(90deg, #a8edea, #fed6e3, #a8edea); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700; }

    .scroll-container { position: relative; overflow: hidden; padding: 20px 0; height: 460px; }
    .cards-group { position: absolute; top: 0; left: 0; width: 100%; opacity: 0; visibility: hidden; pointer-events: none; transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1); }
    .cards-group.active { opacity: 1; visibility: visible; pointer-events: auto; z-index: 10; }
    .cards-group.prev { transform: translateX(-60px); }
    .cards-group.next { transform: translateX(60px); }

    .cards-track { display: flex; gap: 2.6rem; padding-left: 3rem; width: max-content; animation: scroll 40s linear infinite; }
    .cards-group:not(.active) .cards-track { animation-play-state: paused !important; }
    @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
    .scroll-container:hover .cards-group.active .cards-track { animation-play-state: paused; }

    .nav-arrow { position: absolute; top: -90px; width: 64px; height: 64px; background: rgba(255,255,255,0.1); backdrop-filter: blur(16px); border: 1.5px solid rgba(255,255,255,0.18); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 100; transition: all 0.4s ease; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
    .nav-arrow:hover { background: rgba(255,255,255,0.25); transform: scale(1.15); }
    .nav-arrow ion-icon { font-size: 34px; color: #fff; }
    .nav-arrow.prev { left: calc(50% - 420px); }
    .nav-arrow.next { right: calc(50% - 420px); }

    @media (max-width: 1200px) { .nav-arrow.prev { left: 20px; } .nav-arrow.next { right: 20px; } }
    @media (max-width: 768px) { .services-title { font-size: 2.5rem; } .nav-arrow { width: 54px; height: 54px; top: -80px; } .nav-arrow ion-icon { font-size: 28px; } }

    .service-card { flex: 0 0 340px; background: rgba(15,20,40,.94); border-radius: 20px; padding: 2.3rem 1.8rem; text-align: center; box-shadow: 0 0 50px rgba(255,215,0,.18); transition: all 0.5s ease; backdrop-filter: blur(10px); }
    .service-card:hover { transform: translateY(-16px) scale(1.06); box-shadow: 0 0 80px rgba(255,215,0,.5); }
    .emoji { font-size: 8.5rem; margin-bottom: 1.2rem; filter: drop-shadow(0 0 22px rgba(255,255,255,.4)); }
    .service-card h3 { font-size: 1.65rem; color: #fff; margin: 1rem 0 .6rem; }
    .service-card p { color: #b0c4de; font-size: 1.12rem; line-height: 1.5; }

    @media (max-width: 768px) { .service-card { flex: 0 0 280px; } .emoji { font-size: 6.5rem; } .cards-track { gap: 2rem; } }
  </style>
</head>
<body>

<canvas id="stars"></canvas>
<div class="nebula" aria-hidden="true"></div>
<div id="shooting-root" aria-hidden="true"></div>

<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
  <div class="brand">
    <img src="logo.png" alt="Sirius logo" class="brand-logo">
  </div>
  <nav aria-label="Principal">
    <a href="index.html"><ion-icon name="home-outline"></ion-icon><span>INICIO</span></a>
    <a href="sobre_nosotros.html"><ion-icon name="people-outline"></ion-icon><span>SOBRE NOSOTROS</span></a>
    <a href="servicios.html"><ion-icon name="create-outline"></ion-icon><span>SERVICIOS</span></a>
    <a href="contacto.html"><ion-icon name="call-outline"></ion-icon><span>CONTACTO</span></a>
    <div class="line" role="separator"></div>
    <div class="settings" id="settings">
      <div class="settings-toggle" id="settings-toggle" role="button" aria-expanded="false">
        <ion-icon name="settings-outline"></ion-icon><span>AJUSTES</span>
      </div>
      <div class="settings-menu" id="settings-menu" aria-hidden="true">
        <div class="opt"><span>Animación de fondo</span><button class="btn" id="btn-animation">Start</button></div>
        <div class="opt" style="margin-top:6px"><span>Sonido ambiental</span><button class="btn" id="btn-sound">Unmute</button></div>
      </div>
    </div>
  </nav>
</aside>

<div class="menu" id="btn-menu" aria-label="Abrir menú" role="button" tabindex="0">
  <ion-icon name="menu-outline"></ion-icon>
</div>
<div id="overlay" class="overlay" aria-hidden="true"></div>

<main id="main" role="main">

  <!-- CARRUSEL DE SERVICIOS -->
  <section class="services-section">
    <h2 class="services-title" id="title">INTERFAZ & WEB</h2>

    <div class="nav-arrow prev" id="prevBtn"><ion-icon name="chevron-back-outline"></ion-icon></div>
    <div class="nav-arrow next" id="nextBtn"><ion-icon name="chevron-forward-outline"></ion-icon></div>

    <div class="scroll-container">

      <!-- Grupo 0: Diseño Gráfico -->
      <div class="cards-group" id="group0">
        <div class="cards-track">
          <div class="service-card"><span class="emoji">Palette</span><h3>Flyers & Banners</h3><p>Impacto visual inmediato</p></div>
          <div class="service-card"><span class="emoji">Book</span><h3>Portadas</h3><p>Libros, ebooks, revistas</p></div>
          <div class="service-card"><span class="emoji">Box</span><h3>Packaging</h3><p>Diseño premium de empaques</p></div>
          <div class="service-card"><span class="emoji">Brush</span><h3>Ilustración Digital</h3><p>Estilo único</p></div>
          <div class="service-card"><span class="emoji">Palette</span><h3>Flyers & Banners</h3><p>Impacto visual inmediato</p></div>
        </div>
      </div>

      <!-- Grupo 1: Interfaz & Web (activo por defecto) -->
      <div class="cards-group active" id="group1">
        <div class="cards-track">
          <div class="service-card"><span class="emoji">Laptop</span><h3>Sitios Corporativos</h3><p>Modernos y profesionales</p></div>
          <div class="service-card"><span class="emoji">Store</span><h3>E-commerce</h3><p>Tiencia que convierten</p></div>
          <div class="service-card"><span class="emoji">Mobile</span><h3>Apps & PWA</h3><p>Rápidas y nativas</p></div>
          <div class="service-card"><span class="emoji">Figma</span><h3>UX / UI Design</h3><p>Experiencias perfectas</p></div>
          <div class="service-card"><span class="emoji">Laptop</span><h3>Sitios Corporativos</h3><p>Modernos y profesionales</p></div>
        </div>
      </div>

      <!-- Grupo 2: Branding -->
      <div class="cards-group" id="group2">
        <div class="cards-track">
          <div class="service-card"><span class="emoji">Star</span><h3>Logotipos</h3><p>Únicos e inolvidables</p></div>
          <div class="service-card"><span class="emoji">Palette</span><h3>Identidad Visual</h3><p>Colores, tipografía, estilo</p></div>
          <div class="service-card"><span class="emoji">Book</span><h3>Manual de Marca</h3><p>Guía completa</p></div>
          <div class="service-card"><span class="emoji">Card</span><h3>Papelería</h3><p>Tarjetas, membretes</p></div>
          <div class="service-card"><span class="emoji">Star</span><h3>Logotipos</h3><p>Únicos e inolvidables</p></div>
        </div>
      </div>

    </div>
  </section>
</main>

<!-- Scripts -->
<script>
// Fondo de estrellas: apagado y sin sonido por defecto
(function(){
  const canvas = document.getElementById('stars'), ctx = canvas.getContext('2d');
  const rootShoot = document.getElementById('shooting-root');

  let W=0,H=0,stars=[],raf=0,last=0,mouseX=0,mouseY=0;
  const COUNT = 350;
  let running = false;     // Apagado
  let audioEnabled = false; // Silencio
  let audioCtx = null;

  function resize(){
    W = canvas.width = Math.round(innerWidth * devicePixelRatio);
    H = canvas.height = Math.round(innerHeight * devicePixelRatio);
    canvas.style.width = innerWidth+'px';
    canvas.style.height = innerHeight+'px';
    if(running) gen();
  }

  function gen(){
    stars = [];
    for(let i=0;i<COUNT;i++){
      stars.push({
        x: Math.random()*W, y: Math.random()*H, z: 1 + Math.floor(Math.random()*3),
        s: Math.random()*1.8 + 0.3, base: 0.4 + Math.random()*0.6, alpha: 0,
        tw: false, twPhase: Math.random()*Math.PI*2, v: 0.02 + Math.random()*0.18
      });
    }
  }

  function playTwinkle(){
    if(!audioEnabled || !audioCtx) return;
    const o = audioCtx.createOscillator(), g = audioCtx.createGain();
    o.type = 'sine'; o.frequency.value = 800 + Math.random()*600;
    g.gain.value = 0.0025;
    o.connect(g); g.connect(audioCtx.destination);
    o.start();
    g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.08);
    o.stop(audioCtx.currentTime + 0.09);
  }

  function createShooting(){
    if(!running) return;
    const el = document.createElement('div');
    el.className = 'shooting';
    const startX = Math.random()*innerWidth*0.9 + 10;
    const startY = Math.random()*innerHeight*0.35 + 10;
    const len = 300 + Math.random()*500;
    el.style.cssText = `left:${startX}px;top:${startY}px;width:2px;height:2px;background:linear-gradient(90deg,#fff,rgba(255,255,255,0));transform:rotate(-25deg);box-shadow:0 0 12px 2px rgba(255,255,255,0.8)`;
    rootShoot.appendChild(el);
    el.animate([
      { transform: 'translate(0,0) rotate(-25deg)', opacity: 1 },
      { transform: `translate(${len}px,${len*0.18}px) rotate(-25deg)`, opacity: 0 }
    ], { duration: 700 + Math.random()*900, easing:'cubic-bezier(.2,.8,.2,1)' }).onfinish = () => el.remove();
    playTwinkle();
  }

  function draw(t){
    if(!running) return;
    if(!last) last = t;
    const dt = Math.min(50, t - last)/1000; last = t;
    ctx.clearRect(0,0,W,H);
    for(const s of stars){
      const speed = s.v * (s.z/3) * 60 * dt;
      s.x -= speed * 60 * 0.016;
      if(s.x < -10) s.x = W + 10;
      if(!s.tw && Math.random() < 0.007) { s.tw = true; s.twPhase = 0; playTwinkle(); }
      if(s.tw){
        s.twPhase += dt * (1 + Math.random()*3);
        s.alpha = s.base + Math.sin(s.twPhase*6) * 0.6;
        if(s.twPhase > 1.6 + Math.random()*2) { s.tw = false; s.alpha = s.base; }
      } else {
        s.alpha = s.base + Math.sin((t/1000 + s.s)*0.2 + s.twPhase) * 0.06;
      }
      const px = s.x + (mouseX - innerWidth/2) * 0.02 * (s.z/3);
      const py = s.y + (mouseY - innerHeight/2) * 0.02 * (s.z/3);
      const radius = Math.max(0.2, s.s * devicePixelRatio);
      const grd = ctx.createRadialGradient(px,py,0,px,py,radius*4);
      grd.addColorStop(0, `rgba(255,255,255,${Math.min(1,s.alpha)})`);
      grd.addColorStop(0.4, `rgba(200,220,255,${Math.min(0.6,s.alpha*0.7)})`);
      grd.addColorStop(1, 'rgba(0,0,0,0)');
      ctx.fillStyle = grd;
      ctx.beginPath(); ctx.arc(px,py,radius*4,0,Math.PI*2); ctx.fill();
    }
    if(Math.random() < 0.0025) createShooting();
    raf = requestAnimationFrame(draw);
  }

  window.STAR_BG = {
    stop(){ running = false; cancelAnimationFrame(raf); ctx.clearRect(0,0,W,H); rootShoot.innerHTML = ''; },
    start(){ if(running) return; running = true; last = 0; gen(); raf = requestAnimationFrame(draw); },
    toggleSound(on){ audioEnabled = !!on; if(on && !audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }
  };

  window.addEventListener('resize', () => { clearTimeout(window._rsz); window._rsz = setTimeout(resize,150); });
  window.addEventListener('mousemove', e=>{ mouseX = e.clientX; mouseY = e.clientY; });
  resize();
})();
</script>

<script>
(function(){
  const sidebar = document.getElementById('sidebar');
  const btnMenu = document.getElementById('btn-menu');
  const overlay = document.getElementById('overlay');
  const settingsToggle = document.getElementById('settings-toggle');
  const settingsMenu = document.getElementById('settings-menu');
  const btnAnim = document.getElementById('btn-animation');
  const btnSound = document.getElementById('btn-sound');

  // Estado inicial correcto
  btnAnim.textContent = "Start";
  btnSound.textContent = "Unmute";

  function openSidebar(){ sidebar.classList.add('open'); overlay.classList.add('show'); }
  function closeSidebar(){ sidebar.classList.remove('open'); overlay.classList.remove('show'); }

  btnMenu?.addEventListener('click', () => { sidebar.classList.toggle('open'); overlay.classList.toggle('show'); });
  overlay.addEventListener('click', closeSidebar);
  document.addEventListener('keydown', e => { if(e.key === 'Escape') closeSidebar(); });

  settingsToggle?.addEventListener('click', e => {
    const opened = settingsMenu.style.display === 'block';
    settingsMenu.style.display = opened ? 'none' : 'block';
    e.stopPropagation();
  });

  btnAnim?.addEventListener('click', () => {
    if(btnAnim.textContent === "Start"){
      window.STAR_BG.start();
      btnAnim.textContent = "Stop";
    } else {
      window.STAR_BG.stop();
      btnAnim.textContent = "Start";
    }
  });

  btnSound?.addEventListener('click', () => {
    if(btnSound.textContent === "Unmute"){
      window.STAR_BG.toggleSound(true);
      btnSound.textContent = "Mute";
    } else {
      window.STAR_BG.toggleSound(false);
      btnSound.textContent = "Unmute";
    }
  });

  // Carrusel
  const groups = [document.getElementById('group0'), document.getElementById('group1'), document.getElementById('group2')];
  const titles = ["DISEÑO GRÁFICO", "INTERFAZ & WEB", "BRANDING"];
  let current = 1;
  const titleEl = document.getElementById('title');

  document.getElementById('prevBtn').addEventListener('click', () => change(-1));
  document.getElementById('nextBtn').addEventListener('click', () => change(1));

  function change(dir){
    const prev = current;
    current = (current + dir + 3) % 3;
    groups[prev].classList.remove('active');
    groups[prev].classList.add(dir > 0 ? 'prev' : 'next');
    setTimeout(() => groups[prev].classList.remove('prev','next'), 700);
    groups[current].classList.add('active');
    titleEl.textContent = titles[current];
  }

  document.addEventListener('keydown', e => {
    if(e.key === 'ArrowLeft') change(-1);
    if(e.key === 'ArrowRight') change(1);
  });
})();
</script>
</body>
</html>
